<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Load Atomic Force Microscopy Data Files • nanoscopeAFM</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Load Atomic Force Microscopy Data Files">
<meta property="og:description" content="Reads atomic force microscopy (AFM) image files into data tables
    for analysis. The supported file formats include NanoSurf NID files, VEECO 
    NanoScope files, Park AFM files, and Igor Wavefiles. It can also flatten
    images and do basic data analysis.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">nanoscopeAFM</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">1.0.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div id="nanoscopeafm" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#nanoscopeafm" class="anchor"></a>nanoscopeAFM</h1></div>
<p>Analyzes Atomic Force Microsocpy images; currently four types are supported, images from Nanosurf (.nid), Veeco Multimode Nanoscope III, Park AFM images, and Asylum Research AFM images.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("devtools")</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"thomasgredig/nanoscopeAFM"</span><span class="op">)</span></code></pre></div>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p>Use this package to generate <code>AFMdata</code> S4 data objects, which can be used to quickly display AFM data and also process AFM data. Here are some examples:</p>
<p>Creating an <code>AFMdata</code> data object:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">d</span> <span class="op">=</span> <span class="fu"><a href="reference/AFM.import.html">AFM.import</a></span><span class="op">(</span><span class="st">'image.ibw'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span></code></pre></div>
<p>Print essential data and output a summary:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span></code></pre></div>
<p>Graph the object using ggplot2 package:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span></code></pre></div>
<p>Flatten the object with a plane; this generates a new <code>AFMdata</code> object:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">d2</span> <span class="op">=</span> <span class="fu"><a href="reference/AFM.flatten.html">AFM.flatten</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">d2</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="afm-images" class="section level1">
<h1 class="hasAnchor">
<a href="#afm-images" class="anchor"></a>AFM Images</h1>
<p>Loading an AFM image into memory works as follows:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fname</span> <span class="op">=</span> <span class="st">'image.ibw'</span> <span class="co"># Igor Wavefile, NID file, AR file, or Nanoscope file</span>
<span class="va">d</span> <span class="op">=</span> <span class="fu"><a href="reference/read.AFM_file.html">read.AFM_file</a></span><span class="op">(</span><span class="va">fname</span><span class="op">)</span></code></pre></div>
<p>The attributes can be viewed with <code>str(d)</code> and include units.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://scales.r-lib.org">scales</a></span><span class="op">)</span>

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">d</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">x.nm</span>, <span class="va">y.nm</span>, fill <span class="op">=</span> <span class="va">z.nm</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_tile.html">geom_raster</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html">scale_fill_gradient2</a></span><span class="op">(</span>mid<span class="op">=</span><span class="st">'white'</span>, high<span class="op">=</span><span class="fu"><a href="https://scales.r-lib.org/reference/muted.html">muted</a></span><span class="op">(</span><span class="st">'purple'</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/expression.html">expression</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">'x ('</span>,<span class="va">mu</span>,<span class="st">'m)'</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/expression.html">expression</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">'y ('</span>,<span class="va">mu</span>,<span class="st">'m)'</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>fill<span class="op">=</span><span class="st">'z (nm)'</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>expand<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>expand<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html">coord_equal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>A cross-section of the image can now easily be created:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">LINE.NO</span> <span class="op">=</span> <span class="fl">45</span>
<span class="va">d1</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html">subset</a></span><span class="op">(</span><span class="va">d</span>, <span class="va">y</span><span class="op">==</span><span class="va">LINE.NO</span><span class="op">)</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">d1</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">x.nm</span>, <span class="va">z.nm</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_path</a></span><span class="op">(</span>col<span class="op">=</span><span class="st">'black'</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>col<span class="op">=</span><span class="st">'red'</span>, size<span class="op">=</span><span class="fl">2</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>col<span class="op">=</span><span class="st">'white'</span>, size<span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>breaks<span class="op">=</span><span class="fl">0</span><span class="op">:</span><span class="fl">20</span><span class="op">*</span><span class="fl">0.2</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/expression.html">expression</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">'x ('</span>,<span class="va">mu</span>,<span class="st">'m)'</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">'z (nm)'</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div id="image-info" class="section level2">
<h2 class="hasAnchor">
<a href="#image-info" class="anchor"></a>Image Info</h2>
<p>Use the <code><a href="reference/AFM.info.html">AFM.info()</a></code> function to obtain information about the AFM image. The information depends on the file format, but some items are common for all images; these items start with <strong>“INFO.”</strong>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/AFM.info.html">AFM.info</a></span><span class="op">(</span><span class="va">fname</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">r1</span>
<span class="va">r1</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html">grep</a></span><span class="op">(</span><span class="st">'INFO.'</span>,<span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span><span class="op">(</span><span class="va">r1</span>,<span class="st">'names'</span><span class="op">)</span><span class="op">)</span><span class="op">]</span></code></pre></div>
<p>The AFM image information can also be saved into a file.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/AFM.info.html">AFM.info</a></span><span class="op">(</span><span class="va">fname</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">r1</span>
<span class="va">d2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span><span class="op">(</span><span class="va">r1</span>, <span class="st">"names"</span><span class="op">)</span>, val<span class="op">=</span><span class="va">r1</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/write.table.html">write.csv</a></span><span class="op">(</span><span class="va">d2</span>, file<span class="op">=</span><span class="st">'AFMinfo.csv'</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
</div>
<div id="image-analysis" class="section level2">
<h2 class="hasAnchor">
<a href="#image-analysis" class="anchor"></a>Image Analysis</h2>
<p>Histogram can be used to study the roughness or height levels:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># make a histogram</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">d</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">z.nm</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">..density..</span><span class="op">)</span>,
    colour<span class="op">=</span><span class="st">"black"</span>, fill<span class="op">=</span><span class="st">"white"</span>, bins<span class="op">=</span><span class="fl">200</span><span class="op">)</span><span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_density.html">geom_density</a></span><span class="op">(</span>alpha<span class="op">=</span><span class="fl">0.2</span>, fill<span class="op">=</span><span class="st">'red'</span><span class="op">)</span></code></pre></div>
<p><img src="images/CalibrationGrid-Histogram.png" alt="histogram example"></p>
</div>
<div id="frequency-sweep" class="section level2">
<h2 class="hasAnchor">
<a href="#frequency-sweep" class="anchor"></a>Frequency Sweep</h2>
<p>If the NID file is a frequency sweep, you can display the data using the function <code>NID.loadSweep</code> which will return a list that contains data frames with the frequency vs. amplitude data.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="reference/NID.loadSweep.html">NID.loadSweep</a></span><span class="op">(</span><span class="va">fname</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>,xlab<span class="op">=</span><span class="st">'f (Hz)'</span>, ylab<span class="op">=</span><span class="st">'A'</span><span class="op">)</span></code></pre></div>
<p><img src="images/Frequency-Sweep.png" alt="sample output for frequency sweep"></p>
<p>The units for amplitude are stored in the header of the file and can be modified accordingly.</p>
</div>
<div id="line-profile" class="section level2">
<h2 class="hasAnchor">
<a href="#line-profile" class="anchor"></a>Line Profile</h2>
<p>Using the <a href="https://en.wikipedia.org/wiki/Bresenham%27s_line_algorithm">Bresenham algorithm</a>, the pixel locations along a profile line are computed.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># d is populated with NID.loadImage()</span>
<span class="va">q</span> <span class="op">=</span> <span class="fu">NID.lineProfile</span><span class="op">(</span><span class="va">d</span>, <span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">2e-6</span>,<span class="fl">2e-6</span><span class="op">)</span>
<span class="va">d2</span> <span class="op">=</span> <span class="va">d</span><span class="op">[</span><span class="va">q</span>,<span class="op">]</span>
<span class="va">d2</span><span class="op">$</span><span class="va">distance</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="va">d</span><span class="op">$</span><span class="va">x</span><span class="op">*</span><span class="va">d</span><span class="op">$</span><span class="va">x</span><span class="op">+</span><span class="va">d</span><span class="op">$</span><span class="va">y</span><span class="op">*</span><span class="va">d</span><span class="op">$</span><span class="va">y</span><span class="op">)</span>
<span class="co"># plot the line profile</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">d2</span><span class="op">$</span><span class="va">distance</span>, <span class="va">d2</span><span class="op">$</span><span class="va">z.flatten</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="nanoscope-afm-images" class="section level1">
<h1 class="hasAnchor">
<a href="#nanoscope-afm-images" class="anchor"></a>Nanoscope AFM images</h1>
<p>Convert and save all files in folder to PNG format</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># find the files</span>
<span class="va">file.list</span> <span class="op">=</span> <span class="fu">raw.findFiles</span><span class="op">(</span><span class="va">path.RAW</span>, date<span class="op">=</span><span class="st">'2016'</span>, instrument<span class="op">=</span><span class="st">'afm'</span><span class="op">)</span>
<span class="va">file.list</span> <span class="op">=</span> <span class="va">file.list</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html">grep</a></span><span class="op">(</span><span class="st">'\\d{3}$'</span>,<span class="va">file.list</span><span class="op">)</span><span class="op">]</span>

<span class="co"># save the first image of each AFM file</span>
<span class="kw">for</span><span class="op">(</span><span class="va">f</span> <span class="kw">in</span> <span class="va">file.list</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">d</span> <span class="op">=</span> <span class="fu"><a href="reference/AFM.read.html">AFM.read</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_tile.html">geom_raster</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">d</span> , <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, y <span class="op">=</span> <span class="va">y</span>, fill <span class="op">=</span> <span class="va">z</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html">coord_equal</a></span><span class="op">(</span>expand<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">'x (nm)'</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">'y (nm)'</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_colour_continuous.html">scale_fill_continuous</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">'z (nm)'</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span>
  <span class="va">filename.png</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="fu">str_extract</span><span class="op">(</span><span class="va">f</span>, pattern <span class="op">=</span> <span class="st">'\\..{3}$'</span><span class="op">)</span>,<span class="st">'.png'</span>,<span class="va">f</span><span class="op">)</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsave.html">ggsave</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span><span class="op">(</span><span class="st">''</span>,<span class="va">filename.png</span><span class="op">)</span>, dpi<span class="op">=</span><span class="fl">300</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
</div>
<div id="deprecated-functions" class="section level1">
<h1 class="hasAnchor">
<a href="#deprecated-functions" class="anchor"></a>Deprecated Functions</h1>
<p>In version 0.5 and earlier, some additional functions were available, these have been deprecated and should be replaced as follows:</p>
<ul>
<li>read.AFM_file() -&gt; AFM.read()</li>
<li>NID.loadImage() -&gt; AFM.read()</li>
<li>flatten.NID_matrix() -&gt; AFM.flatten()</li>
</ul>
</div>
<div id="technical-notes" class="section level1">
<h1 class="hasAnchor">
<a href="#technical-notes" class="anchor"></a>Technical Notes</h1>
<ul>
<li>The <a href="https://masteringelectronicsdesign.com/an-adc-and-dac-least-significant-bit-lsb/">least significant bit (LSB)</a> provides the smallest voltage step, given the 16-bit resolution of the NanoScope AFM, then Vref = 2^16*LSB.</li>
<li>The <a href="http://www.weizmann.ac.il/Chemical_Research_Support/surflab/peter/headers/">header file</a> is documented for versions 2,3, and 4. <a href="https://bioafm.physics.leidenuniv.nl/dokuwiki/lib/exe/fetch.php?media=afm:nanoscope_software_8.10_user_guide-d_004-1025-000_.pdf">Z-scaling Info</a>
</li>
<li><a href="Low%20Cost%20DIY%20AFM">https://www.instructables.com/A-Low-Cost-Atomic-Force-Microscope-%E4%BD%8E%E6%88%90%E6%9C%AC%E5%8E%9F%E5%AD%90%E5%8A%9B%E9%A1%AF%E5%BE%AE%E9%8F%A1/</a></li>
<li>
<a href="AFM%20Analysis%20R%20package">https://rdrr.io/cran/AFM/</a> by Mathieu Beauvais on <a href="cran/AFM">https://github.com/cran/AFM</a>
</li>
</ul>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></small></li>
</ul>
</div>
<div class="citation">
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing nanoscopeAFM</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.csulb.edu/~tgredig/">Thomas Gredig</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-5824-7626" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://www.csulb.edu/~tgredig/">Thomas Gredig</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
